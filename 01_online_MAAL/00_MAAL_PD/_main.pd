#N canvas 602 38 910 916 12;
#X declare -lib zexy;
#X declare -lib iem_tab;
#N canvas 0 38 1512 916 AutonomousLiveLooper 0;
#X obj 382 124 cnv 19 420 508 empty empty AUTONOMOUS\ LIVE\ LOOPER 80 25 0 20 #feffc6 #404040 0;
#X obj 110 124 cnv 19 265 190 empty empty AUDIO\ IN 80 25 0 20 #ffe3c6 #404040 0;
#X obj 110 319 cnv 19 265 170 empty empty INTERACTION 60 25 0 20 #c7c6ff #404040 0;
#X msg 1264 237 disconnect;
#X text 1308 264 UDP \, FUDI;
#X obj 1208 292 tgl 19 0 empty empty empty 0 -10 0 12 #dfdfdf #000000 #000000 0 1;
#X obj 1208 263 netsend -u -b;
#X obj 1208 236 spigot;
#X obj 148 407 tgl 30 0 \$0-INTERACTION-ON \$0-INTERACTION-ON-RCV INTERACTION -20 -10 0 12 #ff8300 #000000 #000000 0 1;
#X text 1214 103 SENDING DESCRIPTORS TO PYTHON;
#N canvas 498 536 632 357 (subpatch) 0;
#X array \$0-live-input 1 float 3;
#A 0 -0.96;
#X coords 0 1 1 -1 220 50 1 0 0;
#X restore 137 219 graph;
#X obj 140 219 hsl 215 50 0 1 0 0 empty \$0-rec-location-rcv empty -2 -10 0 12 #fcfcfc #ff0400 #000000 0 1;
#N canvas 348 205 673 569 record 0;
#X obj 49 34 inlet~ signal;
#X obj 102 194 sel 1 0, f 14;
#X obj 102 220 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X msg 149 220 stop;
#X obj 469 220 / 44.1;
#X floatatom 469 245 7 0 0 0 - - - 0;
#X msg 320 274 0;
#X obj 357 299 line, f 9;
#X floatatom 357 348 4 0 0 0 - - - 0;
#X msg 469 270 0 \, 1 \$1;
#X obj 469 195 f;
#X obj 273 137 sel 1 0, f 14;
#X obj 357 427 t b b;
#X msg 357 479 start 0;
#X obj 357 451 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 389 451 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X msg 357 273 \$1 \, 1 \$2;
#X obj 375 195 /;
#X obj 357 247 pack f f;
#X obj 410 196 -;
#X obj 410 220 / 44.1;
#X obj 357 220 f;
#X obj 357 323 spigot;
#X text 397 349 record from start of buffer;
#X obj 48 465 *~;
#X obj 84 465 line~;
#X obj 357 398 sel 1 0;
#X obj 48 404 *~;
#X obj 84 404 line~;
#X obj 357 374 > 0.999;
#X msg 84 378 1 40;
#X msg 132 378 0 40;
#X obj 49 86 *~ 0.9;
#X obj 49 110 clip~ -0.9 0.9;
#X msg 136 439 1 100;
#X msg 84 439 0 100;
#X obj 49 62 limiter;
#X obj 48 490 tabwrite~ \$0-live-input;
#X obj 420 373 s \$0-rec-location-rcv;
#X msg 375 164 0;
#X text 107 63 limit incoming signal;
#X text 75 169 start/stop recording;
#X text 59 351 envelope at start/stop;
#X text 288 112 position of recording head in buffer;
#X msg 102 246 start 0;
#X obj 486 461 outlet;
#X obj 410 164 r \$0-buffersize;
#X obj 356 51 t f f f;
#X obj 356 27 inlet start-recording;
#X connect 0 0 36 0;
#X connect 1 0 2 0;
#X connect 1 1 31 0;
#X connect 1 1 3 0;
#X connect 2 0 30 0;
#X connect 2 0 44 0;
#X connect 3 0 37 0;
#X connect 4 0 5 0;
#X connect 5 0 9 0;
#X connect 6 0 7 0;
#X connect 6 0 28 0;
#X connect 6 0 25 0;
#X connect 7 0 22 0;
#X connect 8 0 29 0;
#X connect 8 0 38 0;
#X connect 9 0 7 0;
#X connect 10 0 4 0;
#X connect 11 0 39 0;
#X connect 11 0 21 0;
#X connect 11 1 6 0;
#X connect 12 0 14 0;
#X connect 12 1 15 0;
#X connect 13 0 37 0;
#X connect 14 0 13 0;
#X connect 15 0 10 0;
#X connect 16 0 7 0;
#X connect 17 0 21 1;
#X connect 18 0 16 0;
#X connect 19 0 20 0;
#X connect 20 0 18 1;
#X connect 21 0 18 0;
#X connect 22 0 8 0;
#X connect 24 0 37 0;
#X connect 25 0 24 1;
#X connect 26 0 12 0;
#X connect 26 0 35 0;
#X connect 26 0 45 0;
#X connect 26 1 34 0;
#X connect 27 0 24 0;
#X connect 28 0 27 1;
#X connect 29 0 26 0;
#X connect 30 0 28 0;
#X connect 31 0 28 0;
#X connect 32 0 33 0;
#X connect 33 0 27 0;
#X connect 34 0 25 0;
#X connect 35 0 25 0;
#X connect 36 0 32 0;
#X connect 39 0 17 0;
#X connect 39 0 19 1;
#X connect 44 0 37 0;
#X connect 46 0 10 1;
#X connect 46 0 17 1;
#X connect 46 0 19 0;
#X connect 47 0 1 0;
#X connect 47 1 11 0;
#X connect 47 2 22 1;
#X connect 48 0 47 0;
#X restore 928 108 pd record;
#X obj 138 167 tgl 30 0 \$0-START \$0-START-RCV START 0 -10 0 12 #ff0400 #000000 #000000 0 1;
#X obj 928 80 expr~ tanh($f2 * $v1);
#X text 983 29 amplification;
#N canvas 301 195 766 534 initialize 0;
#X floatatom 57 112 5 0 0 1 BPM - - 0;
#X obj 57 163 * 44.1;
#X floatatom 57 187 6 0 0 0 - - - 0;
#X floatatom 39 290 6 0 0 1 bar-num-samples - - 0;
#X obj 40 318 array size \$0-live-input;
#X text 107 163 number of samples for one beat;
#X text 56 30 initialize;
#X obj 241 319 s \$0-buffersize;
#N canvas 295 333 182 274 bpm2ms 0;
#X obj 56 69 / 60;
#X obj 56 93 t b f;
#X obj 56 142 /;
#X msg 56 117 1;
#X obj 56 166 * 1000;
#X obj 56 42 inlet;
#X obj 56 190 outlet;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 1 1 2 1;
#X connect 2 0 4 0;
#X connect 3 0 2 0;
#X connect 4 0 6 0;
#X connect 5 0 0 0;
#X restore 57 137 pd bpm2ms;
#X obj 361 61 declare -lib zexy;
#X msg 361 114 \; pd dsp 1;
#X obj 39 262 * 4;
#X obj 57 62 loadbang;
#X obj 361 91 loadbang;
#X obj 361 37 declare -lib iem_tab;
#X obj 132 137 s \$0-BPM;
#X obj 40 343 array size \$0-crown;
#X obj 240 343 array size \$0-sequence;
#X obj 39 368 array size \$0-loops-0.show;
#X obj 40 395 array size \$0-loops-1.show;
#X obj 40 422 array size \$0-loops-2.show;
#X obj 41 448 array size \$0-loops-3.show;
#X obj 42 473 array size \$0-loops-4.show;
#X obj 239 368 array size \$0-loops-5.show;
#X obj 240 395 array size \$0-loops-6.show;
#X obj 240 422 array size \$0-loops-7.show;
#X obj 241 448 array size \$0-loops-8.show;
#X obj 242 473 array size \$0-loops-9.show;
#X text 423 218 DEPENDENCIES:;
#X text 391 239 - zexy (install from deken);
#X text 391 254 - iem_tab (install from deken);
#X text 391 270 - flucoma (installation guide here: https://learn.flucoma.org/installation/pd/);
#N canvas 829 271 450 499 crown-window 0;
#X obj 35 23 inlet;
#X obj 35 435 tabwrite \$0-crown;
#X obj 35 50 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 53 98 r \$0-buffersize;
#X obj 35 124 f;
#X obj 35 153 until;
#X obj 35 264 -;
#X obj 35 288 *;
#X obj 35 233 * 2;
#X obj 35 312 /;
#X obj 35 336 * -1;
#X obj 35 360 +;
#X obj 68 263 r \$0-buffersize;
#X obj 35 184 f;
#X obj 70 185 + 1;
#X obj 35 208 t f f;
#X obj 35 384 clip 0 10000;
#X obj 35 408 / 10001;
#X obj 35 70 t b b;
#X msg 67 126 1;
#X obj 68 311 + 1;
#X obj 68 287 / 5;
#N canvas 179 217 450 300 (subpatch) 0;
#X array \$0-crown 1 float 0;
#X coords 0 1 1 0 200 70 1 0 0;
#X restore 209 58 graph;
#X connect 0 0 2 0;
#X connect 2 0 18 0;
#X connect 3 0 4 1;
#X connect 4 0 5 0;
#X connect 5 0 13 0;
#X connect 6 0 7 0;
#X connect 6 0 7 1;
#X connect 7 0 9 0;
#X connect 8 0 6 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 16 0;
#X connect 12 0 6 1;
#X connect 12 0 9 1;
#X connect 12 0 11 1;
#X connect 12 0 21 0;
#X connect 13 0 14 0;
#X connect 13 0 15 0;
#X connect 14 0 13 1;
#X connect 15 0 8 0;
#X connect 15 1 1 1;
#X connect 16 0 17 0;
#X connect 17 0 1 0;
#X connect 18 0 4 0;
#X connect 18 1 19 0;
#X connect 19 0 13 0;
#X connect 20 0 17 1;
#X connect 21 0 16 2;
#X connect 21 0 20 0;
#X restore 241 294 pd crown-window;
#X obj 128 63 r BPM;
#X floatatom 104 262 5 0 0 0 - - - 0;
#X obj 72 212 r BEATS_PER_LOOP;
#X obj 436 447 array size \$0-loops-10.show;
#X obj 437 472 array size \$0-loops-11.show;
#N canvas 527 565 735 381 (subpatch) 0;
#X array \$0-sequence 1 float 3;
#A 0 -0.000209847;
#X coords 0 1 1 -1 200 70 1 0 0;
#X restore 445 361 graph;
#X text 530 338 PING-PONG BUFFER;
#X text 391 301 - else (install from deken);
#X obj 531 50 / 512;
#X obj 531 74 + 1;
#X obj 531 98 int;
#X obj 531 146 s \$0-FFT-buffersize;
#X obj 39 236 f;
#X obj 72 236 t b f;
#X floatatom 584 96 5 0 0 0 - - - 0;
#X obj 584 48 loadbang;
#X obj 651 48 loadbang;
#X msg 651 70 3;
#X msg 584 72 2;
#X obj 651 94 s N_LOOPS;
#X obj 584 119 s \$0-amplification-rcv;
#X floatatom 531 122 5 0 0 0 - - - 0;
#X obj 57 87 del 50;
#X connect 0 0 8 0;
#X connect 0 0 15 0;
#X connect 1 0 2 0;
#X connect 2 0 45 1;
#X connect 3 0 4 0;
#X connect 3 0 7 0;
#X connect 3 0 16 0;
#X connect 3 0 17 0;
#X connect 3 0 27 0;
#X connect 3 0 26 0;
#X connect 3 0 25 0;
#X connect 3 0 24 0;
#X connect 3 0 23 0;
#X connect 3 0 22 0;
#X connect 3 0 21 0;
#X connect 3 0 20 0;
#X connect 3 0 19 0;
#X connect 3 0 18 0;
#X connect 3 0 32 0;
#X connect 3 0 36 0;
#X connect 3 0 37 0;
#X connect 3 0 41 0;
#X connect 8 0 1 0;
#X connect 11 0 3 0;
#X connect 12 0 55 0;
#X connect 13 0 10 0;
#X connect 33 0 0 0;
#X connect 34 0 11 1;
#X connect 35 0 46 0;
#X connect 41 0 42 0;
#X connect 42 0 43 0;
#X connect 43 0 44 0;
#X connect 43 0 54 0;
#X connect 45 0 11 0;
#X connect 46 0 45 0;
#X connect 46 1 34 0;
#X connect 47 0 53 0;
#X connect 48 0 51 0;
#X connect 49 0 50 0;
#X connect 50 0 52 0;
#X connect 51 0 47 0;
#X connect 55 0 45 0;
#X restore 1254 70 pd initialize;
#X text 1263 45 INITIALIZE;
#X obj 287 185 bng 15 250 50 0 empty \$0-END-SEQUENCE-BANG empty -5 -10 0 12 #ffffff #000000 #000000;
#X obj 1208 153 r \$0-SEND-OSC;
#X obj 928 159 s \$0-END-SEQUENCE-BANG;
#X obj 929 209 array get \$0-live-input, f 25;
#X obj 929 235 array set \$0-sequence;
#N canvas 99 139 1266 773 sequence-analysis 0;
#X obj 54 385 fluid.bufchroma 12 -source \$0-sequence -features \$0-sequence.chroma, f 39;
#X obj 54 642 fluid.bufloudness -source \$0-sequence -features \$0-sequence.loudness, f 39;
#X obj 467 341 f \$0;
#X msg 467 391 waveformcolor #666666 \, waveform \$1-sequence;
#X msg 467 366 indices \$1-sequence.onsets-0;
#X obj 54 515 fluid.bufspectralshape -source \$0-sequence -features \$0-sequence.spectralshape -numchans 1;
#X obj 54 188 r \$0-END-SEQUENCE-BANG;
#X obj 54 238 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X text 89 239 analysis;
#N canvas 861 271 405 365 send-melbands 0;
#X obj 52 134 until;
#X obj 52 158 f;
#X msg 98 134 0;
#X obj 85 158 + 1;
#X obj 52 81 t b b b;
#X obj 52 190 list append;
#X msg 52 214 symbol \$2-\$1;
#X obj 52 57 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 52 266 array get;
#X obj 52 291 oscformat;
#X obj 52 238 t b a;
#X text 90 108 num features;
#X text 80 58 SEND TO PYTHON;
#X obj 52 31 inlet;
#X obj 52 315 s \$0-SEND-OSC;
#X msg 52 108 40;
#X obj 126 165 symbol \$0-sequence.melbands;
#X msg 101 238 set features 1000 melbands-\$1;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 1 0 5 0;
#X connect 1 0 17 0;
#X connect 2 0 1 1;
#X connect 3 0 1 1;
#X connect 4 0 15 0;
#X connect 4 1 16 0;
#X connect 4 2 2 0;
#X connect 5 0 6 0;
#X connect 6 0 10 0;
#X connect 7 0 4 0;
#X connect 8 0 9 0;
#X connect 9 0 14 0;
#X connect 10 0 8 0;
#X connect 10 1 8 2;
#X connect 13 0 7 0;
#X connect 15 0 0 0;
#X connect 16 0 5 1;
#X connect 17 0 9 0;
#X restore 569 711 pd send-melbands;
#X obj 465 631 fluid.bufmelbands 40 -source \$0-sequence -features \$0-sequence.melbands -minfreq 20 -maxfreq 20000 -numchans 1, f 44;
#X obj 465 684 OSCsend \$0-sequence.melbands 40 melbands 1000;
#X obj 465 711 s \$0-SEND-OSC;
#X obj 467 552 OSCsend \$0-sequence.onsets 1 onsets 1000;
#X obj 467 576 s \$0-SEND-OSC;
#X obj 54 709 s \$0-SEND-OSC;
#X obj 54 682 OSCsend \$0-sequence.loudness 2 loudness 1000;
#X obj 54 580 s \$0-SEND-OSC;
#X obj 54 553 OSCsend \$0-sequence.spectralshape 7 spectralshape 1000;
#X obj 54 450 s \$0-SEND-OSC;
#X obj 54 423 OSCsend \$0-sequence.chroma 12 chroma 1000;
#X text 75 153 SEQUENCE ANALYSIS;
#X obj 467 446 outlet;
#X obj 467 106 clone 2 fluid.multiarray \$0-sequence.loudness, f 25;
#X obj 467 79 array define \$0-sequence.onsets-0;
#X obj 467 187 clone 12 fluid.multiarray \$0-sequence.chroma, f 31;
#X obj 467 148 clone 7 fluid.multiarray \$0-sequence.spectralshape, f 31;
#X text 484 51 DEFINE FEATURES FOR SEQUENCE;
#X obj 467 224 clone 40 fluid.multiarray \$0-sequence.melbands, f 27;
#X obj 54 214 del 200;
#X obj 54 355 del 100;
#X obj 54 489 del 200;
#X obj 54 616 del 300;
#X obj 465 605 del 400;
#X obj 467 489 del 500;
#X obj 467 316 del 600;
#X text 859 77 window size (1024) \, hop size (-1) \, fft size (-1), f 24;
#X obj 780 123 r fftsize;
#X floatatom 780 147 5 0 0 0 - - - 0;
#X obj 780 63 loadbang;
#X msg 780 170 fftsettings \$1 -1 -1;
#X msg 780 88 1024;
#X msg 948 167 hopsize \$1;
#X obj 948 119 r hopsize;
#X msg 820 87 512;
#X floatatom 948 143 5 0 0 0 - - - 0;
#X obj 780 194 s \$0-fftsize;
#X obj 948 191 s \$0-hopsize;
#X obj 567 579 r \$0-fftsize;
#X obj 566 603 r \$0-hopsize;
#X obj 115 332 r \$0-fftsize;
#X obj 114 356 r \$0-hopsize;
#X obj 160 461 r \$0-fftsize;
#X obj 159 485 r \$0-hopsize;
#X obj 529 464 r \$0-fftsize;
#X obj 528 488 r \$0-hopsize;
#X obj 159 592 r \$0-fftsize;
#X obj 158 616 r \$0-hopsize;
#X obj 467 514 fluid.bufonsetslice -source \$0-sequence -indices \$0-sequence.onsets-0 -metric 0 -threshold 0.65;
#X msg 467 416 features \$1-sequence.loudness;
#X obj 467 263 clone 2 fluid.multiarray \$0-sequence.pitch, f 27;
#X obj 867 313 r \$0-fftsize;
#X obj 866 337 r \$0-hopsize;
#X obj 806 431 s \$0-SEND-OSC;
#X obj 54 264 t b b b b b b b, f 19;
#X obj 806 336 del 120;
#X obj 806 366 fluid.bufpitch -source \$0-sequence -features \$0-sequence.pitch, f 39;
#X obj 806 404 OSCsend \$0-sequence.pitch 2 pitch 1000;
#X connect 0 0 20 0;
#X connect 1 0 16 0;
#X connect 2 0 3 0;
#X connect 2 0 4 0;
#X connect 2 0 59 0;
#X connect 3 0 22 0;
#X connect 4 0 22 0;
#X connect 5 0 18 0;
#X connect 6 0 29 0;
#X connect 7 0 64 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 13 0 14 0;
#X connect 16 0 15 0;
#X connect 18 0 17 0;
#X connect 20 0 19 0;
#X connect 29 0 7 0;
#X connect 30 0 0 0;
#X connect 31 0 5 0;
#X connect 32 0 1 0;
#X connect 33 0 10 0;
#X connect 34 0 58 0;
#X connect 35 0 2 0;
#X connect 37 0 38 0;
#X connect 38 0 40 0;
#X connect 39 0 41 0;
#X connect 39 0 44 0;
#X connect 40 0 46 0;
#X connect 42 0 47 0;
#X connect 43 0 45 0;
#X connect 45 0 42 0;
#X connect 48 0 10 0;
#X connect 49 0 10 0;
#X connect 50 0 0 0;
#X connect 51 0 0 0;
#X connect 52 0 5 0;
#X connect 53 0 5 0;
#X connect 54 0 58 0;
#X connect 55 0 58 0;
#X connect 56 0 1 0;
#X connect 57 0 1 0;
#X connect 58 0 13 0;
#X connect 59 0 22 0;
#X connect 61 0 66 0;
#X connect 62 0 66 0;
#X connect 64 0 30 0;
#X connect 64 1 31 0;
#X connect 64 2 32 0;
#X connect 64 3 33 0;
#X connect 64 4 34 0;
#X connect 64 5 35 0;
#X connect 64 6 65 0;
#X connect 65 0 66 0;
#X connect 66 0 67 0;
#X connect 67 0 63 0;
#X restore 46 62 pd sequence-analysis;
#X obj 137 269 fluid.waveform 220 30 1 empty empty 0;
#X text 1234 291 connected;
#X obj 931 381 oscparse;
#X obj 931 429 route list;
#X obj 1017 665 symbol \$1;
#X obj 931 355 netreceive -u -b 6667;
#X obj 1017 690 s2l;
#X text 958 566 chosen loop;
#X floatatom 219 435 5 0 0 1 SELECTED\ LOOP \$0-select-loop - 0;
#X obj 930 614 t f b;
#X obj 931 483 route loop;
#X obj 1092 566 symbol \$1;
#X obj 1092 591 s2l;
#X obj 1092 540 route drop;
#X floatatom 219 457 5 0 0 1 DROPPED\ LOOP \$0-drop-loop - 0;
#X obj 1092 640 t f b;
#X obj 1205 563 r \$0-END-SEQUENCE-BANG;
#X obj 1205 614 until;
#X obj 1205 638 f;
#X obj 1241 638 + 1;
#X msg 1251 614 0;
#X obj 1205 667 t f b;
#X msg 1279 667 update;
#X obj 1205 692 list append;
#X obj 1092 690 list append;
#X obj 930 664 list append;
#X msg 962 639 loop;
#X msg 1124 665 drop;
#X obj 930 752 *~ 1;
#X obj 1193 747 hsl 162 19 0 1 0 0 empty empty volume 10 10 0 12 #dfdfdf #000000 #000000 0 1;
#X obj 931 455 route loopdecision;
#X text 877 722 LOOPS;
#X obj 1205 588 f;
#X obj 1240 588 r \$0-N_LOOPS;
#X obj 930 782 limiter;
#X obj 937 324 cnv 19 150 20 empty empty empty 20 12 0 12 #ffc7c6 #404040 0;
#X text 951 325 AUTONOMOUS LOOPER;
#X floatatom 219 368 5 0 0 1 NUMBER\ OF\ LOOPS N_LOOPS \$0-N_LOOPS 0;
#X obj 931 405 spigot;
#X obj 985 405 r \$0-INTERACTION-ON;
#N canvas 105 182 352 240 record-performance 0;
#X obj 98 174 writesf~;
#X msg 98 146 start;
#X msg 144 94 stop;
#X msg 130 121 open recording/dry-in.wav;
#X obj 98 44 r \$0-RECORD-PERFORMANCE;
#X obj 98 95 t b b;
#X obj 98 68 sel 1 0;
#X obj 40 145 inlet~;
#X connect 1 0 0 0;
#X connect 2 0 0 0;
#X connect 3 0 0 0;
#X connect 4 0 6 0;
#X connect 5 0 1 0;
#X connect 5 1 3 0;
#X connect 6 0 5 0;
#X connect 6 1 2 0;
#X connect 7 0 0 0;
#X restore 955 134 pd record-performance;
#X obj 1190 721 r \$0-GENERAL-VOL-rcv;
#N canvas 232 128 692 382 update-show-tables 0;
#X obj 72 58 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 72 82 array get \$0-loops-0;
#X obj 72 106 array set \$0-loops-0.show;
#X obj 72 26 inlet;
#X obj 73 134 array get \$0-loops-1;
#X obj 73 158 array set \$0-loops-1.show;
#X obj 73 186 array get \$0-loops-2;
#X obj 73 210 array set \$0-loops-2.show;
#X obj 73 236 array get \$0-loops-3;
#X obj 73 260 array set \$0-loops-3.show;
#X obj 73 285 array get \$0-loops-4;
#X obj 73 309 array set \$0-loops-4.show;
#X obj 273 82 array get \$0-loops-5;
#X obj 273 106 array set \$0-loops-5.show;
#X obj 274 136 array get \$0-loops-6;
#X obj 274 160 array set \$0-loops-6.show;
#X obj 274 187 array get \$0-loops-7;
#X obj 274 211 array set \$0-loops-7.show;
#X obj 274 237 array get \$0-loops-8;
#X obj 274 261 array set \$0-loops-8.show;
#X obj 274 288 array get \$0-loops-9;
#X obj 274 312 array set \$0-loops-9.show;
#X obj 466 236 array get \$0-loops-10;
#X obj 466 260 array set \$0-loops-10.show;
#X obj 466 287 array get \$0-loops-11;
#X obj 466 311 array set \$0-loops-11.show;
#X connect 0 0 1 0;
#X connect 0 0 4 0;
#X connect 0 0 6 0;
#X connect 0 0 8 0;
#X connect 0 0 10 0;
#X connect 0 0 12 0;
#X connect 0 0 14 0;
#X connect 0 0 16 0;
#X connect 0 0 18 0;
#X connect 0 0 20 0;
#X connect 0 0 22 0;
#X connect 0 0 24 0;
#X connect 1 0 2 0;
#X connect 3 0 0 0;
#X connect 4 0 5 0;
#X connect 6 0 7 0;
#X connect 8 0 9 0;
#X connect 10 0 11 0;
#X connect 12 0 13 0;
#X connect 14 0 15 0;
#X connect 16 0 17 0;
#X connect 18 0 19 0;
#X connect 20 0 21 0;
#X connect 22 0 23 0;
#X connect 24 0 25 0;
#X restore 918 260 pd update-show-tables;
#X obj 1144 748 *~ 1;
#X obj 1144 782 limiter;
#N canvas 527 565 735 381 (subpatch) 0;
#X array \$0-loops-0.show 1 float 3;
#A 0 0.00282069;
#X coords 0 1 1 -1 120 50 1 0 0;
#X restore 407 187 graph;
#N canvas 527 565 735 381 (subpatch) 0;
#X array \$0-loops-1.show 1 float 3;
#A 0 0;
#X coords 0 1 1 -1 120 50 1 0 0;
#X restore 407 256 graph;
#N canvas 527 565 735 381 (subpatch) 0;
#X array \$0-loops-2.show 1 float 3;
#A 0 0;
#X coords 0 1 1 -1 120 50 1 0 0;
#X restore 406 328 graph;
#N canvas 527 565 735 381 (subpatch) 0;
#X array \$0-loops-6.show 1 float 3;
#A 0 0;
#X coords 0 1 1 -1 120 50 1 0 0;
#X restore 535 328 graph;
#N canvas 527 565 735 381 (subpatch) 0;
#X array \$0-loops-4.show 1 float 3;
#A 0 0;
#X coords 0 1 1 -1 120 50 1 0 0;
#X restore 536 187 graph;
#N canvas 527 565 735 381 (subpatch) 0;
#X array \$0-loops-5.show 1 float 3;
#A 0 0;
#X coords 0 1 1 -1 120 50 1 0 0;
#X restore 536 256 graph;
#N canvas 527 565 735 381 (subpatch) 0;
#X array \$0-loops-7.show 1 float 3;
#A 0 0;
#X coords 0 1 1 -1 120 50 1 0 0;
#X restore 536 397 graph;
#N canvas 527 565 735 381 (subpatch) 0;
#X array \$0-loops-8.show 1 float 3;
#A 0 0;
#X coords 0 1 1 -1 120 50 1 0 0;
#X restore 665 187 graph;
#N canvas 527 565 735 381 (subpatch) 0;
#X array \$0-loops-3.show 1 float 3;
#A 0 0;
#X coords 0 1 1 -1 120 50 1 0 0;
#X restore 406 396 graph;
#N canvas 527 565 735 381 (subpatch) 0;
#X array \$0-loops-9.show 1 float 3;
#A 0 0;
#X coords 0 1 1 -1 120 50 1 0 0;
#X restore 665 256 graph;
#X obj 428 518 vsl 15 90 0 1 0 0 \$0-vol-loop-0 empty empty 0 -9 0 12 #ffffff #000000 #000000 0 1;
#X obj 457 518 vsl 15 90 0 1 0 0 \$0-vol-loop-1 empty empty 0 -9 0 12 #ffffff #000000 #000000 0 1;
#X obj 485 518 vsl 15 90 0 1 0 0 \$0-vol-loop-2 empty empty 0 -9 0 12 #ffffff #000000 #000000 0 1;
#X obj 514 518 vsl 15 90 0 1 0 0 \$0-vol-loop-3 empty empty 0 -9 0 12 #ffffff #000000 #000000 0 1;
#X obj 542 518 vsl 15 90 0 1 0 0 \$0-vol-loop-4 empty empty 0 -9 0 12 #ffffff #000000 #000000 0 1;
#X obj 573 518 vsl 15 90 0 1 0 0 \$0-vol-loop-5 empty empty 0 -9 0 12 #ffffff #000000 #000000 0 1;
#X obj 605 518 vsl 15 90 0 1 0 0 \$0-vol-loop-6 empty empty 0 -9 0 12 #ffffff #000000 #000000 0 1;
#X obj 633 518 vsl 15 90 0 1 0 0 \$0-vol-loop-7 empty empty 0 -9 0 12 #ffffff #000000 #000000 0 1;
#X obj 664 518 vsl 15 90 0 1 0 0 \$0-vol-loop-8 empty empty 0 -9 0 12 #ffffff #000000 #000000 0 1;
#X obj 695 518 vsl 15 90 0 1 0 0 \$0-vol-loop-9 empty empty 0 -9 0 12 #ffffff #000000 #000000 0 1;
#X obj 428 493 tgl 15 0 \$0-loop-active-0-snd \$0-loop-active-0-rcv empty 0 -10 0 12 #ffffff #000000 #000000 0 1;
#X obj 457 493 tgl 15 0 \$0-loop-active-1-snd \$0-loop-active-1-rcv empty 0 -10 0 12 #ffffff #000000 #000000 0 1;
#X obj 485 493 tgl 15 0 \$0-loop-active-2-snd \$0-loop-active-2-rcv empty 0 -10 0 12 #ffffff #000000 #000000 0 1;
#X obj 514 493 tgl 15 0 \$0-loop-active-3-snd \$0-loop-active-3-rcv empty 0 -10 0 12 #ffffff #000000 #000000 0 1;
#X obj 542 493 tgl 15 0 \$0-loop-active-4-snd \$0-loop-active-4-rcv empty 0 -10 0 12 #ffffff #000000 #000000 0 1;
#X obj 573 493 tgl 15 0 \$0-loop-active-5-snd \$0-loop-active-5-rcv empty 0 -10 0 12 #ffffff #000000 #000000 0 1;
#X obj 605 493 tgl 15 0 \$0-loop-active-6-snd \$0-loop-active-6-rcv empty 0 -10 0 12 #ffffff #000000 #000000 0 1;
#X obj 633 493 tgl 15 0 \$0-loop-active-7-snd \$0-loop-active-7-rcv empty 0 -10 0 12 #ffffff #000000 #000000 0 1;
#X obj 664 493 tgl 15 0 \$0-loop-active-8-snd \$0-loop-active-8-rcv empty 0 -10 0 12 #ffffff #000000 #000000 0 1;
#X obj 695 493 tgl 15 0 \$0-loop-active-9-snd \$0-loop-active-9-rcv empty 0 -10 0 12 #ffffff #000000 #000000 0 1;
#X obj 426 465 else/knob 20 0 1 0 0 \$0-pan-loop-0 empty #ffffff #7c7c7c black 1 0 0 0 1 320 0 0 0;
#X obj 454 465 else/knob 20 0 1 0 0 \$0-pan-loop-1 empty #ffffff #7c7c7c black 1 0 0 0 1 320 0 0 0;
#X obj 483 465 else/knob 20 0 1 0 0 \$0-pan-loop-2 empty #ffffff #7c7c7c black 1 0 0 0 1 320 0 0 0;
#X obj 511 465 else/knob 20 0 1 0 0 \$0-pan-loop-3 empty #ffffff #7c7c7c black 1 0 0 0 1 320 0 0 0;
#X obj 540 465 else/knob 20 0 1 0 0 \$0-pan-loop-4 empty #ffffff #7c7c7c black 1 0 0 0 1 320 0 0 0;
#X obj 572 465 else/knob 20 0 1 0 0 \$0-pan-loop-5 empty #ffffff #7c7c7c black 1 0 0 0 1 320 0 0 0;
#X obj 603 465 else/knob 20 0 1 0 0 \$0-pan-loop-6 empty #ffffff #7c7c7c black 1 0 0 0 1 320 0 0 0;
#X obj 631 465 else/knob 20 0 1 0 0 \$0-pan-loop-7 empty #ffffff #7c7c7c black 1 0 0 0 1 320 0 0 0;
#X obj 662 465 else/knob 20 0 1 0 0 \$0-pan-loop-8 empty #ffffff #7c7c7c black 1 0 0 0 1 320 0 0 0;
#X obj 693 465 else/knob 20 0 1 0 0 \$0-pan-loop-9 empty #ffffff #7c7c7c black 1 0 0 0 1 320 0 0 0;
#X obj 182 185 hsl 100 15 0 10 0 0 \$0-amplification \$0-amplification-rcv amplification 5 8 0 12 #ffffff #000000 #000000 0 1;
#X msg 1089 378 listen \$1;
#X floatatom 219 413 5 0 0 1 PORT\ RECIEVE PORT_RCV - 0;
#X obj 1089 354 r PORT_RCV;
#X floatatom 219 390 5 0 0 1 PORT\ SEND PORT_SND - 0;
#X msg 1310 151 connect localhost \$1;
#X obj 1310 127 r PORT_SND;
#X obj 1000 108 r \$0-START;
#N canvas 527 565 735 381 (subpatch) 0;
#X array \$0-loops-10.show 1 float 3;
#A 0 0;
#X coords 0 1 1 -1 120 50 1 0 0;
#X restore 664 328 graph;
#N canvas 527 565 735 381 (subpatch) 0;
#X array \$0-loops-11.show 1 float 3;
#A 0 0;
#X coords 0 1 1 -1 120 50 1 0 0;
#X restore 666 397 graph;
#X obj 930 722 clone 12 loop \$0-loops 88200 \$0;
#X obj 724 518 vsl 15 90 0 1 0 0 \$0-vol-loop-10 empty empty 0 -9 0 12 #ffffff #000000 #000000 0 1;
#X obj 756 518 vsl 15 90 0 1 0 0 \$0-vol-loop-11 empty empty 0 -9 0 12 #ffffff #000000 #000000 0 1;
#X obj 724 493 tgl 15 0 \$0-loop-active-10-snd \$0-loop-active-10-rcv empty 0 -10 0 12 #ffffff #000000 #000000 0 1;
#X obj 756 493 tgl 15 0 \$0-loop-active-11-snd \$0-loop-active-11-rcv empty 0 -10 0 12 #ffffff #000000 #000000 0 1;
#X obj 722 465 else/knob 20 0 1 0 0 \$0-pan-loop-10 empty #ffffff #7c7c7c black 1 0 0 0 1 320 0 0 0;
#X obj 753 465 else/knob 20 0 1 0 0 \$0-pan-loop-11 empty #ffffff #7c7c7c black 1 0 0 0 1 320 0 0 0;
#X obj 985 51 r \$0-amplification;
#X obj 928 52 inlet~;
#X obj 930 808 outlet~, f 8;
#X obj 1144 810 outlet~, f 8;
#N canvas 105 182 352 240 record-performance-full 0;
#X msg 98 146 start;
#X msg 144 94 stop;
#X obj 98 44 r \$0-RECORD-PERFORMANCE;
#X obj 98 95 t b b;
#X obj 98 68 sel 1 0;
#X obj 40 145 inlet~;
#X msg 130 121 open recording/full-mix.wav;
#X obj 98 174 writesf~ 2;
#X obj 165 148 inlet~;
#X connect 0 0 7 0;
#X connect 1 0 7 0;
#X connect 2 0 4 0;
#X connect 3 0 0 0;
#X connect 3 1 6 0;
#X connect 4 0 3 0;
#X connect 4 1 1 0;
#X connect 5 0 7 0;
#X connect 6 0 7 0;
#X connect 8 0 7 1;
#X restore 883 846 pd record-performance-full;
#X obj 274 495 cnv 19 100 135 empty empty output 20 10 0 15 #e3c6ff #404040 0;
#X obj 333 524 vu 10 80 \$0-loudness-R empty -1 -10 0 6 #606060 #000000 1 0;
#X obj 321 524 vu 10 80 \$0-loudness-L empty -1 -10 0 12 #606060 #000000 0 0;
#X obj 295 523 vsl 15 80 0 1 0 0 \$0-GENERAL-VOL-rcv empty VOL -1 95 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 1085 800 env~;
#X obj 1085 823 - 90;
#X obj 1248 799 env~;
#X obj 1248 822 - 90;
#X obj 1085 847 s \$0-loudness-L;
#X obj 1248 846 s \$0-loudness-R;
#X obj 110 495 cnv 19 155 135 empty empty RECORD 40 25 0 20 #e0e0e0 #404040 0;
#X obj 179 166 tgl 15 0 \$0-metronome-on-snd empty METRONOME 20 10 0 12 #ffffff #000000 #000000 0 1;
#N canvas 564 284 245 331 metronome 0;
#X obj 88 37 inlet;
#N canvas 295 333 182 274 bpm2ms 0;
#X obj 56 69 / 60;
#X obj 56 93 t b f;
#X obj 56 142 /;
#X msg 56 117 1;
#X obj 56 166 * 1000;
#X obj 56 42 inlet;
#X obj 56 190 outlet;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 1 1 2 1;
#X connect 2 0 4 0;
#X connect 3 0 2 0;
#X connect 4 0 6 0;
#X connect 5 0 0 0;
#X restore 128 139 pd bpm2ms;
#X obj 128 115 r \$0-BPM;
#X obj 52 91 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 52 139 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 52 240 *~;
#X obj 52 267 dac~;
#X obj 52 216 *~;
#X obj 89 216 vline~;
#X obj 52 192 osc~ 440;
#X obj 52 66 r \$0-START;
#X obj 88 242 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 52 115 metro 500;
#X msg 52 163 0.7 10 \, 0 10 20;
#X obj 137 274 outlet;
#X connect 0 0 11 0;
#X connect 1 0 12 1;
#X connect 2 0 1 0;
#X connect 3 0 12 0;
#X connect 4 0 13 0;
#X connect 5 0 6 0;
#X connect 5 0 6 1;
#X connect 7 0 5 0;
#X connect 8 0 7 1;
#X connect 9 0 7 0;
#X connect 10 0 3 0;
#X connect 11 0 5 1;
#X connect 12 0 4 0;
#X connect 12 0 14 0;
#X connect 13 0 8 0;
#X restore 1209 354 pd metronome;
#X obj 287 167 bng 15 250 50 0 empty \$0-metro-bang empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 137 563 tgl 30 0 \$0-RECORD-PERFORMANCE \$0-RECORD-PERFORMANCE-RCV empty 30 10 0 12 #00ff04 #000000 #000000 0 1;
#X obj 663 696 r clock-reset;
#X msg 663 720 0;
#X msg 597 722 1;
#X obj 597 746 metro 1000;
#X obj 597 770 f;
#X floatatom 597 794 5 0 0 0 - - - 0;
#X obj 631 770 + 1;
#X obj 597 817 % 60;
#X floatatom 597 841 5 0 0 0 - - - 0;
#X obj 597 864 s secs;
#X obj 653 793 / 60;
#X obj 653 817 % 60;
#X floatatom 653 841 5 0 0 0 - - - 0;
#X obj 653 864 s mins;
#X obj 597 693 sel 1 0;
#X floatatom 182 558 8 0 0 2 minutes mins - 0;
#X floatatom 182 595 8 0 0 2 seconds secs - 0;
#X obj 676 746 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 1209 378 spigot;
#X text 397 467 PAN;
#X text 397 548 VOL;
#X text 404 492 ON;
#X floatatom 315 181 5 0 0 2 BPM \$0-BPM - 0;
#X text 112 678 © 2025 Vincenzo Madaghiele \; vincenzo.madaghiele@imv.uio.no;
#X obj 931 513 list split 1;
#X obj 930 541 symbol \$1;
#X obj 930 566 s2l;
#X text 831 690 segmentation;
#X obj 930 690 list append;
#X obj 597 668 r \$0-RECORD-PERFORMANCE;
#X obj 1208 327 r \$0-metronome-on-snd;
#X obj 1209 402 s \$0-metro-bang;
#X obj 929 183 r \$0-END-SEQUENCE-BANG;
#X obj 1092 616 s \$0-drop-loop;
#X obj 930 590 s \$0-select-loop;
#X obj 1393 184 r \$0-INTERACTION-ON;
#X obj 1440 391 s \$0-SEND-OSC;
#X obj 1417 282 s \$0-RECORD-PERFORMANCE-RCV;
#X obj 1440 364 oscformat;
#X obj 1440 310 t f b;
#X obj 1394 256 t f f f;
#X msg 1472 336 set startInteraction;
#X obj 1462 581 s \$0-SEND-OSC;
#X obj 1439 472 s \$0-RECORD-PERFORMANCE-RCV;
#X obj 1462 554 oscformat;
#X obj 1462 500 t f b;
#X obj 1416 446 t f f f;
#X msg 1494 526 set startInteraction;
#X obj 1393 208 sel 0 1;
#X msg 1393 233 0;
#X msg 1416 421 1;
#X obj 826 748 print;
#X connect 3 0 6 0;
#X connect 6 0 5 0;
#X connect 7 0 6 0;
#X connect 12 0 20 0;
#X connect 14 0 12 0;
#X connect 19 0 7 0;
#X connect 21 0 22 0;
#X connect 23 0 24 0;
#X connect 26 0 62 0;
#X connect 27 0 54 0;
#X connect 28 0 30 0;
#X connect 29 0 26 0;
#X connect 30 0 174 1;
#X connect 33 0 49 0;
#X connect 33 1 50 0;
#X connect 34 0 170 0;
#X connect 35 0 36 0;
#X connect 36 0 179 0;
#X connect 36 0 39 0;
#X connect 37 0 35 0;
#X connect 39 0 48 0;
#X connect 39 1 51 0;
#X connect 40 0 44 0;
#X connect 40 0 56 0;
#X connect 41 0 42 0;
#X connect 42 0 43 0;
#X connect 42 0 45 0;
#X connect 43 0 42 1;
#X connect 44 0 42 1;
#X connect 45 0 47 0;
#X connect 45 1 46 0;
#X connect 46 0 47 1;
#X connect 47 0 119 0;
#X connect 48 0 119 0;
#X connect 49 0 174 0;
#X connect 50 0 49 1;
#X connect 51 0 48 1;
#X connect 52 0 58 0;
#X connect 53 0 52 1;
#X connect 53 0 67 1;
#X connect 54 0 34 0;
#X connect 54 0 37 0;
#X connect 56 0 41 0;
#X connect 57 0 56 1;
#X connect 58 0 128 0;
#X connect 58 0 130 0;
#X connect 58 0 135 0;
#X connect 62 0 27 0;
#X connect 63 0 62 1;
#X connect 65 0 53 0;
#X connect 67 0 68 0;
#X connect 68 0 129 0;
#X connect 68 0 130 1;
#X connect 68 0 137 0;
#X connect 110 0 29 0;
#X connect 112 0 110 0;
#X connect 114 0 6 0;
#X connect 115 0 114 0;
#X connect 116 0 12 1;
#X connect 119 0 52 0;
#X connect 119 1 67 0;
#X connect 126 0 14 1;
#X connect 127 0 14 0;
#X connect 127 0 64 0;
#X connect 135 0 136 0;
#X connect 136 0 139 0;
#X connect 137 0 138 0;
#X connect 138 0 140 0;
#X connect 143 0 164 0;
#X connect 146 0 147 0;
#X connect 147 0 150 1;
#X connect 147 0 149 0;
#X connect 147 0 163 0;
#X connect 148 0 149 0;
#X connect 149 0 150 0;
#X connect 150 0 151 0;
#X connect 150 0 152 0;
#X connect 151 0 153 0;
#X connect 151 0 156 0;
#X connect 152 0 150 1;
#X connect 153 0 154 0;
#X connect 154 0 155 0;
#X connect 156 0 157 0;
#X connect 157 0 158 0;
#X connect 158 0 159 0;
#X connect 160 0 148 0;
#X connect 160 1 147 0;
#X connect 163 0 150 0;
#X connect 164 0 177 0;
#X connect 170 0 28 0;
#X connect 170 1 171 0;
#X connect 171 0 172 0;
#X connect 172 0 180 0;
#X connect 172 0 33 0;
#X connect 174 0 197 0;
#X connect 174 0 119 0;
#X connect 175 0 160 0;
#X connect 176 0 143 0;
#X connect 176 0 164 1;
#X connect 178 0 21 0;
#X connect 178 0 66 0;
#X connect 181 0 194 0;
#X connect 184 0 182 0;
#X connect 185 0 184 0;
#X connect 185 1 187 0;
#X connect 186 0 7 1;
#X connect 186 1 183 0;
#X connect 186 2 185 0;
#X connect 187 0 184 0;
#X connect 190 0 188 0;
#X connect 191 0 190 0;
#X connect 191 1 193 0;
#X connect 192 0 191 0;
#X connect 192 1 189 0;
#X connect 192 2 7 1;
#X connect 193 0 190 0;
#X connect 194 0 195 0;
#X connect 194 1 196 0;
#X connect 195 0 186 0;
#X connect 196 0 192 0;
#X coords 0 -1 1 1 710 538 1 100 100;
#X restore 65 74 pd AutonomousLiveLooper;
#X obj 165 38 s~ \$0-voice;
#X obj 229 664 r~ \$0-voice;
#X obj 732 700 tgl 50 0 empty empty START 0 -10 0 20 #ff0400 #000000 #000000 0 1;
#X obj 65 818 *~;
#X obj 582 812 *~;
#X obj 65 45 adc~ 2;
#X obj 65 14 adc~ 1;
#X obj 65 846 dac~ 1;
#X obj 583 850 dac~ 2;
#X connect 0 0 4 0;
#X connect 0 1 5 0;
#X connect 2 0 4 0;
#X connect 2 0 5 0;
#X connect 3 0 5 1;
#X connect 3 0 4 1;
#X connect 4 0 8 0;
#X connect 5 0 9 0;
#X connect 6 0 0 0;
#X connect 6 0 1 0;
#X connect 7 0 0 0;
#X connect 7 0 1 0;
